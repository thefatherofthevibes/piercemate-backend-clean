import{V as p}from"./chunk-F6ZOHZVB-fviPx_bo.js";import{K as j}from"./chunk-6HTZNHPT-CQK7Nsir.js";import{R as s}from"./chunk-WVA4O7QS-ClTyIHdU.js";import{u as y}from"./chunk-D6UW7URG-Dnreh06z.js";import{ag as g,b as u,g5 as f,j as e,H as K,aC as b,aD as v,g8 as C,t as m,J as i,K as E,B as x,ax as F,az as A}from"./index-CU6eNUFN.js";var M=F({title:A().min(1)}),S=({apiKey:r})=>{const{t:a}=u(),{handleSuccess:n}=y(),t=b({defaultValues:{title:r.title},resolver:v(M)}),{mutateAsync:o,isPending:l}=C(r.id),h=t.handleSubmit(async c=>{await o(c,{onSuccess:({api_key:d})=>{m.success(a("apiKeyManagement.edit.successToast",{title:d.title})),n()},onError:d=>{m.error(d.message)}})});return e.jsx(s.Form,{form:t,children:e.jsxs(j,{onSubmit:h,className:"flex flex-1 flex-col",children:[e.jsx(s.Body,{children:e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(i.Field,{control:t.control,name:"title",render:({field:c})=>e.jsxs(i.Item,{children:[e.jsx(i.Label,{children:a("fields.title")}),e.jsx(i.Control,{children:e.jsx(E,{...c})}),e.jsx(i.ErrorMessage,{})]})})})}),e.jsx(s.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(s.Close,{asChild:!0,children:e.jsx(x,{size:"small",variant:"secondary",children:a("actions.cancel")})}),e.jsx(x,{size:"small",type:"submit",isLoading:l,children:a("actions.save")})]})})]})})},B=()=>{const{id:r}=g(),{t:a}=u(),{api_key:n,isLoading:t,isError:o,error:l}=f(r);if(o)throw l;return e.jsxs(s,{children:[e.jsxs(s.Header,{children:[e.jsx(s.Title,{asChild:!0,children:e.jsx(K,{children:a("apiKeyManagement.edit.header")})}),e.jsx(s.Description,{asChild:!0,children:e.jsx(p,{children:a("apiKeyManagement.edit.description")})})]}),!t&&!!n&&e.jsx(S,{apiKey:n})]})};export{B as Component};
