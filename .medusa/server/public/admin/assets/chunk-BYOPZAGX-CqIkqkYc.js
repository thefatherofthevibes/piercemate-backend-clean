import{r as i,j as r,aV as U,a3 as f,a0 as w}from"./index-CU6eNUFN.js";var z=1024*1024,S=({label:p,hint:l,multiple:g=!0,hasError:b,formats:x,maxFileSize:h=z,onUploaded:m})=>{const[D,o]=i.useState(!1),d=i.useRef(null),n=i.useRef(null),v=()=>{var e;(e=d.current)==null||e.click()},j=e=>{var s;e.preventDefault(),e.stopPropagation(),(s=e.dataTransfer)!=null&&s.files&&o(!0)},F=e=>{e.preventDefault(),e.stopPropagation(),!(!n.current||n.current.contains(e.relatedTarget))&&o(!1)},c=e=>{if(!e)return;const t=Array.from(e),s=[],u=[],L=Math.min(h,1/0);t.forEach(a=>{if(a.size>L){u.push({file:a,reason:"size"});return}const R=Math.random().toString(36).substring(7),T=URL.createObjectURL(a);s.push({id:R,url:T,file:a})}),m(s,u)},E=e=>{var t;e.preventDefault(),e.stopPropagation(),o(!1),c((t=e.dataTransfer)==null?void 0:t.files)},y=async e=>{c(e.target.files)};return r.jsxs("div",{children:[r.jsxs("button",{ref:n,type:"button",onClick:v,onDrop:E,onDragOver:e=>e.preventDefault(),onDragEnter:j,onDragLeave:F,className:w("bg-ui-bg-component border-ui-border-strong transition-fg group flex w-full flex-col items-center gap-y-2 rounded-lg border border-dashed p-8","hover:border-ui-border-interactive focus:border-ui-border-interactive","focus:shadow-borders-focus outline-none focus:border-solid",{"!border-ui-border-error":b,"!border-ui-border-interactive":D}),children:[r.jsxs("div",{className:"text-ui-fg-subtle group-disabled:text-ui-fg-disabled flex items-center gap-x-2",children:[r.jsx(U,{}),r.jsx(f,{children:p})]}),!!l&&r.jsx(f,{size:"small",leading:"compact",className:"text-ui-fg-muted group-disabled:text-ui-fg-disabled",children:l})]}),r.jsx("input",{hidden:!0,ref:d,onChange:y,type:"file",accept:x.join(","),multiple:g})]})};export{S as F};
