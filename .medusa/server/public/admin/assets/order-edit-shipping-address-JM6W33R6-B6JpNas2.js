import{D as L}from"./chunk-C7F7MMXS-BXIPDtJe.js";import{C as I}from"./chunk-BW4QA6B6-m5arwiOX.js";import{K as S}from"./chunk-6HTZNHPT-CQK7Nsir.js";import{R as t}from"./chunk-WVA4O7QS-ClTyIHdU.js";import{u as M}from"./chunk-D6UW7URG-Dnreh06z.js";import{b as C,ag as A,de as w,j as s,H as N,aC as O,aD as D,dX as R,t as b,J as e,K as a,B as F,ax as T,az as l}from"./index-CU6eNUFN.js";var B=T({first_name:l().optional(),last_name:l().optional(),address_1:l().min(1),address_2:l().optional(),country_code:l().min(2).max(2),city:l().optional(),postal_code:l().optional(),province:l().optional(),company:l().optional(),phone:l().optional()});function H({order:i}){var m,p,x,j,h,u,f,_,g,y;const{t:n}=C(),{handleSuccess:d}=M(),o=O({defaultValues:{first_name:((m=i.shipping_address)==null?void 0:m.first_name)||"",last_name:((p=i.shipping_address)==null?void 0:p.last_name)||"",address_1:((x=i.shipping_address)==null?void 0:x.address_1)||"",address_2:((j=i.shipping_address)==null?void 0:j.address_2)||"",city:((h=i.shipping_address)==null?void 0:h.city)||"",company:((u=i.shipping_address)==null?void 0:u.company)||"",country_code:((f=i.shipping_address)==null?void 0:f.country_code)||"",phone:((_=i.shipping_address)==null?void 0:_.phone)||"",postal_code:((g=i.shipping_address)==null?void 0:g.postal_code)||"",province:((y=i.shipping_address)==null?void 0:y.province)||""},resolver:D(B)}),{mutateAsync:c,isPending:E}=R(i.id),v=o.handleSubmit(async r=>{try{await c({shipping_address:r}),b.success(n("orders.edit.shippingAddress.requestSuccess")),d()}catch(z){b.error(z.message)}});return s.jsx(t.Form,{form:o,children:s.jsxs(S,{onSubmit:v,className:"flex size-full flex-col overflow-hidden",children:[s.jsx(t.Body,{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(e.Field,{control:o.control,name:"address_1",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{children:n("fields.address")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"address_2",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.address2")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"postal_code",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.postalCode")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"city",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.city")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"country_code",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{children:n("fields.country")}),s.jsx(e.Control,{children:s.jsx(I,{...r,disabled:!0})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"province",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.state")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"first_name",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{children:n("fields.firstName")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})})]})}),s.jsx(e.Field,{control:o.control,name:"last_name",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{children:n("fields.lastName")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})})]})}),s.jsx(e.Field,{control:o.control,name:"company",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.company")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})}),s.jsx(e.Field,{control:o.control,name:"phone",render:({field:r})=>s.jsxs(e.Item,{children:[s.jsx(e.Label,{optional:!0,children:n("fields.phone")}),s.jsx(e.Control,{children:s.jsx(a,{size:"small",...r})}),s.jsx(e.ErrorMessage,{})]})})]})}),s.jsx(t.Footer,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(t.Close,{asChild:!0,children:s.jsx(F,{variant:"secondary",size:"small",children:n("actions.cancel")})}),s.jsx(F,{isLoading:E,type:"submit",variant:"primary",size:"small",children:n("actions.save")})]})})]})})}var X=()=>{const{t:i}=C(),n=A(),{order:d,isPending:o,isError:c}=w(n.id,{fields:L});if(!o&&c)throw new Error("Order not found");return s.jsxs(t,{children:[s.jsx(t.Header,{children:s.jsx(N,{children:i("orders.edit.shippingAddress.title")})}),d&&s.jsx(H,{order:d})]})};export{X as Component};
