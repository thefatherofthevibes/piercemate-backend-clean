import{S as m}from"./chunk-GIZFNLKK-R9MsJhoe.js";import{q as x,e as g,ag as f,dE as d,a as p,j as a,ek as y,s as j,p as h,b as v,u as S,h as b,fc as w,C as D,H as C,A as T,P as U,T as P,a3 as l,t as c}from"./index-CU6eNUFN.js";import"./Trans-TuWeNclR.js";var A=e=>{const{id:s}=e.params||{},{user:t}=d(s,void 0,{initialData:e.data,enabled:!!s});if(!t)return null;const n=[t.first_name,t.last_name].filter(Boolean).join(" ")||t.email;return a.jsx("span",{children:n})},q=e=>({queryKey:h.detail(e),queryFn:async()=>j.admin.user.retrieve(e)}),L=async({params:e})=>{const s=e.id,t=q(s);return x.ensureQueryData(t)},N=({user:e})=>{const{t:s}=v(),t=S(),i=b(),{mutateAsync:n}=w(e.id),r=[e.first_name,e.last_name].filter(Boolean).join(" "),o=async()=>{await i({title:s("general.areYouSure"),description:s("users.deleteUserWarning",{name:r??e.email}),verificationText:r??e.email,verificationInstruction:s("general.typeToConfirm"),confirmText:s("actions.delete"),cancelText:s("actions.cancel")})&&await n(void 0,{onSuccess:()=>{c.success(s("users.deleteUserSuccess",{name:e.email})),t("..")},onError:u=>{c.error(u.message)}})};return a.jsxs(D,{className:"divide-y p-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsx(C,{children:e.email}),a.jsx(T,{groups:[{actions:[{label:s("actions.edit"),to:"edit",icon:a.jsx(U,{})}]},{actions:[{label:s("actions.delete"),onClick:o,icon:a.jsx(P,{})}]}]})]}),a.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[a.jsx(l,{size:"small",leading:"compact",weight:"plus",children:s("fields.name")}),a.jsx(l,{size:"small",leading:"compact",children:r??"-"})]})]})},M=()=>{const e=g(),{id:s}=f(),{user:t,isPending:i,isError:n,error:r}=d(s,void 0,{initialData:e}),{getWidgets:o}=p();if(i||!t)return a.jsx(y,{sections:1,showJSON:!0,showMetadata:!0});if(n)throw r;return a.jsx(m,{data:t,showJSON:!0,showMetadata:!0,widgets:{after:o("user.details.after"),before:o("user.details.before")},children:a.jsx(N,{user:t})})};export{A as Breadcrumb,M as Component,L as loader};
