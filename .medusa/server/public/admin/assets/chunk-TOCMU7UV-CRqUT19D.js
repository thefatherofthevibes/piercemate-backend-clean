import{D as y,a as C,T as v,b as N}from"./chunk-WG7UTTKY-BPkZ2IK1.js";import{D as _,a as g}from"./chunk-VT2JJ5C2-C9WnHsyg.js";import{g as D,a as S}from"./chunk-NTEWUH4C-Zwbwn2Hl.js";import{S as x}from"./chunk-ADOCJB6L-Dv-zw8lO.js";import{P as H}from"./chunk-P3UUX2T6-BbomILEi.js";import{r as w,j as e,d7 as b,g as T,b as i,ak as F}from"./index-CU6eNUFN.js";import{R as P}from"./react-country-flag.esm-BUxefnxS.js";var R=({country:l})=>l?e.jsx("div",{className:"flex size-5 items-center justify-center",children:e.jsx(F,{content:l.display_name,children:e.jsx("div",{className:"flex size-4 items-center justify-center overflow-hidden rounded-sm",children:e.jsx(P,{countryCode:l.iso_2.toUpperCase(),svg:!0,style:{width:"16px",height:"16px"},"aria-label":l.display_name})})})}):e.jsx(H,{}),E=({customer:l})=>{if(!l)return e.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{first_name:r,last_name:n,email:c}=l,d=[r,n].filter(Boolean).join(" ");return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:d||c})})},I=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.customer")})})},O=({status:l})=>{const{t:r}=i();if(!l)return"-";const{label:n,color:c}=S(r,l);return e.jsx(x,{color:c,children:n})},z=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.fulfillment")})})},K=({status:l})=>{const{t:r}=i(),{label:n,color:c}=D(r,l);return e.jsx(x,{color:c,children:n})},k=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.payment")})})},A=({channel:l})=>{if(!l)return e.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{name:r}=l;return e.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:e.jsx("span",{className:"truncate",children:r})})},B=()=>{const{t:l}=i();return e.jsx("div",{className:"flex h-full w-full items-center",children:e.jsx("span",{className:"truncate",children:l("fields.salesChannel")})})},a=T(),V=l=>{const{exclude:r=[]}=l??{},n=w.useMemo(()=>[a.accessor("display_id",{header:()=>e.jsx(C,{}),cell:({getValue:s})=>{const t=s();return e.jsx(y,{displayId:t})}}),a.accessor("created_at",{header:()=>e.jsx(g,{}),cell:({getValue:s})=>{const t=new Date(s());return e.jsx(_,{date:t})}}),a.accessor("customer",{header:()=>e.jsx(I,{}),cell:({getValue:s})=>{const t=s();return e.jsx(E,{customer:t})}}),a.accessor("sales_channel",{header:()=>e.jsx(B,{}),cell:({getValue:s})=>{const t=s();return e.jsx(A,{channel:t})}}),a.accessor("payment_status",{header:()=>e.jsx(k,{}),cell:({getValue:s})=>{const t=s();return e.jsx(K,{status:t})}}),a.accessor("fulfillment_status",{header:()=>e.jsx(z,{}),cell:({getValue:s})=>{const t=s();return e.jsx(O,{status:t})}}),a.accessor("total",{header:()=>e.jsx(N,{}),cell:({getValue:s,row:t})=>{var f;const o=t.original.payment_status==="refunded",u=o?((f=t.original.payment_collections)==null?void 0:f.reduce((j,p)=>j+(p.refunded_amount??0),0))||0:s(),m=t.original.currency_code;return e.jsx(v,{currencyCode:m,total:u,className:o?"text-ui-fg-muted line-through":""})}}),a.display({id:"actions",cell:({row:s})=>{var u;const t=(u=s.original.shipping_address)==null?void 0:u.country_code,o=b.find(m=>m.iso_2===t);return e.jsx(R,{country:o})}})],[]),c=s=>s.accessorKey!==void 0,d=s=>s.id!==void 0,h=s=>c(s)?r.includes(s.accessorKey):d(s)?r.includes(s.id):!1;return n.filter(s=>!h(s))};export{V as u};
